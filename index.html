<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <h1>Choose Rock, Paper or Scissors.</h1>
        <div class="buttons">
            <button id="rock">Rock</button>
            <button id="paper">Paper</button>
            <button id="scissors">Scissors</button>
        </div>  
        <div>
            <p id="results"></p>
            <p id="score"></p>
        </div>  
        <script>
            function getComputerChoice() {
               let randomChoice = Math.floor(Math.random() * 3);
               if (randomChoice === 0) {
                return "rock"
               }
               else if (randomChoice === 1) {
                return "paper"
               }
               else {
                return "scissors"
               }
            }
            
            let playerScore = 0;
            let computerScore = 0;

            function playRound(playerSelection, computerSelection) {
                if  (playerSelection === computerSelection) {
                    return "No Winner! it's a tie";
                    } else if (playerSelection === "rock" && computerSelection === "scissors") {
                        playerScore++;  
                        return "You Win! Rock beats Scissors";
                    } else if (playerSelection === "paper" && computerSelection === "rock") {
                        playerScore++;
                        return "You Win! Paper beats Rock"; 
                    } else if (playerSelection === "scissors" && computerSelection === "paper") {
                        playerScore++;
                        return "You Win! Scissors beats Paper"; 
                    } else {
                        computerScore++;
                        return `You Lose! ${computerSelection.charAt(0).toUpperCase() + computerSelection.slice(1)} beats ${playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1)}`;  
                    }                     
                }   
            
            
            const para = document.querySelector('#results');

            function sayResult() {
                if (playerScore >= 5) {
                    para.textContent = "You Win!"
                    }
                    else if (computerScore >= 5) {
                    para.textContent = "You Lose!"
                    }
                    else { 
                    para.textContent = "Play Again!"
                    }
            }

            const rock = document.querySelector('#rock');
            rock.addEventListener('click', function(e) {
                playerSelection = 'rock';
                computerSelection = getComputerChoice();
                playRound(playerSelection, computerSelection);
                sayResult();
                displayScore();
            })

            const paper = document.querySelector('#paper');
            paper.addEventListener('click', function(e) {
                playerSelection = 'paper';
                computerSelection = getComputerChoice();
                playRound(playerSelection, computerSelection);
                sayResult();
                displayScore();
            })

            const scissors = document.querySelector('#scissors');
            scissors.addEventListener('click', function(e) {
                playerSelection = 'scissors'
                computerSelection = getComputerChoice();
                playRound(playerSelection, computerSelection)
                sayResult();
                displayScore();
            });

            function displayScore () {
                const score = document.querySelector('#score');
                if (playerScore <= 5 && computerScore <= 5) score.textContent = `Player Score:${playerScore} Computer Score:${computerScore}`;
            }

        </script>
    </body>
</html>